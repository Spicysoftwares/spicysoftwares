<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renderon - Complete Scripting & AI Reference</title>

<style>
:root {
    --color-primary: #000000;
    --color-secondary: #ffffff;
    --color-text-light: #f0f0f0;
    --color-text-dark: #333333;
    --color-accent: #7a7a7a;
    --color-hover: #5a5a5a;
    --color-border: #cccccc;
    --color-code-bg: #1e1e1e;
    --color-section: #f9f9f9;
    --border-radius: 12px;
    --box-shadow-light: 0 4px 10px rgba(0, 0, 0, 0.05);
    
    /* GTA Specific Colors */
    --color-gta-bg: #f4f1ea;
    --color-crime: #c62828;
    --color-police: #1565c0;
}

* {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--color-secondary);
    color: var(--color-text-dark);
    line-height: 1.6;
}

header {
    background: var(--color-primary);
    padding: 20px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

header img.logo {
    position: absolute;
    left: 40px;
    height: 35px;
    filter: invert(100%);
}

header h1 {
    color: var(--color-text-light);
    font-size: 24pt;
    font-weight: 300;
    letter-spacing: 1px;
    margin: 0;
}

.navbar {
    background: var(--color-accent);
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1px;
    position: sticky;
    top: 0;
    z-index: 100;
    height: 60px; /* Hauteur fixe pour centrer le bouton download */
}

.navbar a.nav-link {
    display: inline-block;
    padding: 15px 30px;
    color: var(--color-text-light);
    font-size: 12pt;
    font-weight: 500;
    text-decoration: none;
    transition: background 0.2s, color 0.2s;
    background: #444;
    height: 100%;
    display: flex;
    align-items: center;
}

.navbar a.nav-link:hover {
    background: var(--color-hover);
    color: var(--color-secondary);
}

/* Style sp√©cifique pour le bouton Download √† droite */
.download-btn {
    position: absolute;
    right: 20px;
    background-color: var(--color-crime) !important;
    color: white !important;
    font-weight: bold !important;
    border-radius: 4px;
    padding: 8px 15px !important;
    height: auto !important;
    text-transform: uppercase;
    font-size: 10pt !important;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.download-btn:hover {
    background-color: #a52020 !important;
    transform: translateY(-1px);
}

.section {
    max-width: 1200px;
    margin: auto;
    text-align: center;
    padding: 60px 20px;
}

.section h2 {
    font-size: 40pt;
    color: var(--color-primary);
    margin-bottom: 5px;
    font-weight: 700;
}

.section h3 {
    font-size: 18pt;
    color: var(--color-accent);
    margin-top: 0;
    font-weight: 300;
    margin-bottom: 40px;
}

.section p {
    font-size: 16pt;
    margin-top: 30px;
    text-align: left;
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 20px;
    margin: 40px 0;
}

.feature-box {
    background: var(--color-section);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    padding: 30px;
    text-align: left;
    box-shadow: var(--box-shadow-light);
    transition: transform 0.2s, box-shadow 0.2s;
}

.feature-box.gta-featured {
    border-left: 5px solid var(--color-crime);
    background: var(--color-gta-bg);
}

.feature-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

.feature-box h4 {
    color: var(--color-primary);
    font-size: 20pt;
    font-weight: 600;
    margin-top: 0;
    margin-bottom: 15px;
    border-bottom: 2px solid var(--color-primary);
    padding-bottom: 10px;
}

.feature-box ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.feature-box ul li {
    padding: 8px 0;
    font-size: 13pt;
    color: var(--color-text-dark);
}

.feature-box ul li:before {
    content: "‚Ä¢ ";
    color: var(--color-primary);
    font-weight: bold;
    margin-right: 8px;
}

.api-section {
    background: var(--color-section);
    border-radius: var(--border-radius);
    padding: 30px;
    margin: 40px 0;
    text-align: left;
}

.api-section.gta-api {
    background: #fff8f8;
    border: 1px solid #e0c0c0;
}

.api-section h3 {
    color: var(--color-primary);
    font-size: 24pt;
    font-weight: 600;
    margin-top: 0;
    text-align: left;
}

.api-function {
    background: white;
    border-left: 4px solid var(--color-primary);
    padding: 15px 20px;
    margin: 15px 0;
    border-radius: 8px;
    position: relative;
}

.api-function.new-api {
    border-left-color: var(--color-crime);
}

.api-function.new-api:after {
    content: "NEW (GTA)";
    position: absolute;
    top: 15px;
    right: 15px;
    background: var(--color-crime);
    color: white;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: bold;
}

.api-function code {
    color: #d63384;
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 13pt;
}

.api-function .description {
    margin-top: 8px;
    color: #666;
    font-size: 13pt;
}

.code-example {
    background: var(--color-code-bg);
    color: var(--color-text-light);
    border-radius: var(--border-radius);
    padding: 25px;
    margin: 30px 0;
    text-align: left;
    font-family: 'Courier New', monospace;
    font-size: 13pt;
    overflow-x: auto;
    box-shadow: var(--box-shadow-light);
}

.code-example pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.code-example .comment { color: #6a9955; }
.code-example .keyword { color: #569cd6; }
.code-example .function { color: #dcdcaa; }
.code-example .string { color: #ce9178; }
.code-example .number { color: #b5cea8; }

.footer {
    text-align: center;
    padding: 30px 20px;
    color: var(--color-accent);
    font-size: 11pt;
    border-top: 1px solid var(--color-border);
    background: var(--color-section);
    margin-top: 60px;
}

/* Badges for NPC Types */
.npc-type-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 11pt;
    font-weight: 600;
    margin: 5px 5px 5px 0;
}

.badge-civilian { background: #e3f2fd; color: #1976d2; }
.badge-police { background: #fff3e0; color: #ef6c00; }
.badge-criminal { background: #ffebee; color: #c62828; }
.badge-guard { background: #f3e5f5; color: #7b1fa2; }
.badge-vendor { background: #e8f5e9; color: #388e3c; }

</style>
</head>

<body>

<header>
    <img src="rendeonlogo.png" class="logo" alt="Logo Renderon">
    <h1>Renderon Workspace - API Reference</h1>
</header>

<div class="navbar">
    <a href="#core" class="nav-link">Core System</a>
    <a href="#physics" class="nav-link">Physics & Input</a>
    <a href="#npc" class="nav-link">NPC AI</a>
    <a href="#gta" class="nav-link">GTA Life Sim</a>
    <a href="#examples" class="nav-link">Examples</a>
    <a href="api.txt" download="api.txt" class="nav-link download-btn">Download API</a>
</div>

<div class="section" id="core">
    <h2>Scripting & AI Engine</h2>
    <h3>Integrated Lua Runtime with Advanced GTA Behaviors</h3>

    <p>
        The Renderon Script System combines standard game engine controls (Transform, Physics, Input) with 
        a high-level <strong>GTA AI System</strong>. This allows for the creation of living worlds with 
        daily schedules, crime reporting, police interaction, and complex pathfinding without touching C++.
    </p>

    <div class="feature-grid">
        <div class="feature-box">
            <h4>üéÆ Input & Controls</h4>
            <ul>
                <li>Complete keyboard/mouse detection</li>
                <li>FPS Camera locking</li>
                <li>Input axis mapping</li>
            </ul>
        </div>

        <div class="feature-box">
            <h4>üîß Core Engine</h4>
            <ul>
                <li>Transform manipulation (Translate/Rotate)</li>
                <li>Entity spawning & destruction</li>
                <li>Distance and vector math utils</li>
            </ul>
        </div>

        <div class="feature-box gta-featured">
            <h4>üèôÔ∏è GTA Life Sim</h4>
            <ul>
                <li><strong>Daily Schedules</strong> (Work, Home, Lunch)</li>
                <li><strong>Crime Reporting</strong> system</li>
                <li><strong>Police Awareness</strong> logic</li>
                <li>Dynamic Friend/Enemy relationships</li>
            </ul>
        </div>

        <div class="feature-box gta-featured">
            <h4>üß† Advanced AI</h4>
            <ul>
                <li><strong>A* Pathfinding</strong> (MoveTo)</li>
                <li>Perception (Sight/Hearing)</li>
                <li>Personality Traits (Fear/Aggression)</li>
                <li>Crowd & Traffic logic</li>
            </ul>
        </div>
    </div>
</div>

<div class="section" id="physics">
    <div class="api-section">
        <h3>üìö Core API Reference</h3>
        <p>Standard functions for entity manipulation and game logic.</p>

        <h4 style="margin-top: 30px; color: #333;">üïπÔ∏è Input & Time</h4>
        <div class="api-function"><code>IsKeyDown(key)</code> <div class="description">Checks key press ("W", "SPACE", "SHIFT", "ESC").</div></div>
        <div class="api-function"><code>IsMouseButton(btn)</code> <div class="description">0: Left, 1: Right, 2: Middle.</div></div>
        <div class="api-function"><code>GetDeltaTime()</code> <div class="description">Time in seconds since last frame.</div></div>

        <h4 style="margin-top: 30px; color: #333;">üìç Transform & Visuals</h4>
        <div class="api-function"><code>SetPosition(x, y, z)</code> <div class="description">Teleport entity.</div></div>
        <div class="api-function"><code>LookAt(x, y, z)</code> <div class="description">Rotates entity to face target.</div></div>
        <div class="api-function"><code>PlayAnim(name)</code> <div class="description">Plays animation from MeshComponent list.</div></div>
        <div class="api-function"><code>SetColor(r, g, b)</code> <div class="description">Changes mesh tint color.</div></div>

        <h4 style="margin-top: 30px; color: #333;">‚ö° Physics</h4>
        <div class="api-function"><code>SetVelocity(x, y, z)</code> <div class="description">Directly set RigidBody velocity.</div></div>
        <div class="api-function"><code>AddForce(x, y, z)</code> <div class="description">Apply impulse force.</div></div>
        <div class="api-function"><code>IsGrounded()</code> <div class="description">Returns true if collider touches ground.</div></div>
    </div>
</div>

<div class="section" id="npc">
    <h2>NPC & AI System</h2>
    <h3>Personality, Pathfinding & Life Simulation</h3>

    <div style="text-align: left; margin-bottom: 30px;">
        <h4>Available NPC Types:</h4>
        <span class="npc-type-badge badge-civilian">CIVILIAN_MALE</span>
        <span class="npc-type-badge badge-civilian">CIVILIAN_FEMALE</span>
        <span class="npc-type-badge badge-police">POLICE</span>
        <span class="npc-type-badge badge-criminal">GANG_MEMBER</span>
        <span class="npc-type-badge badge-guard">SECURITY_GUARD</span>
        <span class="npc-type-badge badge-vendor">SHOP_KEEPER</span>
        <span class="npc-type-badge badge-civilian">BUSINESS_PERSON</span>
    </div>

    <div class="api-section">
        <h3>üé≠ NPC Configuration API</h3>
        <div class="api-function">
            <code>SetNPCType(typeString)</code>
            <div class="description">Sets the AI archetype (e.g., "POLICE", "GANG_MEMBER"). Affects default behaviors.</div>
        </div>
        <div class="api-function">
            <code>SetNPCPersonality(aggression, fear, courage)</code>
            <div class="description">Floats 0.0 to 1.0. Determines if NPC fights or flees during conflict.</div>
        </div>
        <div class="api-function">
            <code>SetNPCState(state)</code>
            <div class="description">Force state: "IDLE", "WALKING", "ATTACKING", "FLEEING", "DRIVING".</div>
        </div>
        <div class="api-function">
            <code>FindNearestEntity(tag, range)</code>
            <div class="description">Returns ID of nearest entity with specific tag (e.g. "Player").</div>
        </div>
    </div>

    <div class="api-section gta-api" id="gta">
        <h3 style="color: #c62828;">üèôÔ∏è GTA Life Sim API (New)</h3>
        <p>Specific functions for the GTA Behavior System and Daily Schedules.</p>

        <div class="api-function new-api">
            <code>AddDailyActivity(name, startHr, endHr, x, y, z)</code>
            <div class="description">Adds a routine entry. NPC will automatically Pathfind to (x,y,z) between startHr and endHr.</div>
        </div>
        
        <div class="api-function new-api">
            <code>MoveTo(x, y, z)</code>
            <div class="description"><strong>Pathfinding:</strong> Calculates a navmesh path to target. Obstacle avoidance included.</div>
        </div>

        <div class="api-function new-api">
            <code>ReportCrime(x, y, z, severity)</code>
            <div class="description">Triggers the Police System. Severity 1-5. Nearby Police NPCs will respond.</div>
        </div>

        <div class="api-function new-api">
            <code>HasSeenPolice()</code>
            <div class="description">Returns true if a Police NPC is within visual range and Line of Sight.</div>
        </div>

        <div class="api-function new-api">
            <code>MakeFriend(entityID)</code>
            <div class="description">Adds entity to Friend list. Prevents aggression and enables "Backup" behavior.</div>
        </div>
    </div>
</div>

<div class="section" id="examples">
    <h3 style="text-align: left; font-size: 28pt;">üí° Code Examples</h3>

    <div class="code-example">
<pre><span class="comment">-- Example 1: Creating a Citizen with a Daily Schedule (GTA Style)</span>
<span class="keyword">function</span> <span class="function">OnStart</span>()
    SetNPCType(<span class="string">"BUSINESS_PERSON"</span>)
    SetNPCPersonality(<span class="number">0.1</span>, <span class="number">0.8</span>, <span class="number">0.2</span>) <span class="comment">-- Low aggression, High fear</span>

    <span class="comment">-- Define Routine</span>
    <span class="comment">-- 08:00 to 17:00 -> Work at Office</span>
    AddDailyActivity(<span class="string">"Work"</span>, <span class="number">8.0</span>, <span class="number">17.0</span>, <span class="number">150.0</span>, <span class="number">0.0</span>, <span class="number">-40.0</span>)
    
    <span class="comment">-- 17:00 to 19:00 -> Gym</span>
    AddDailyActivity(<span class="string">"Gym"</span>, <span class="number">17.0</span>, <span class="number">19.0</span>, <span class="number">-20.0</span>, <span class="number">0.0</span>, <span class="number">50.0</span>)
    
    <span class="comment">-- 19:00 to 08:00 -> Home</span>
    AddDailyActivity(<span class="string">"Sleep"</span>, <span class="number">19.0</span>, <span class="number">8.0</span>, <span class="number">10.0</span>, <span class="number">0.0</span>, <span class="number">10.0</span>)
<span class="keyword">end</span>

<span class="keyword">function</span> <span class="function">OnUpdate</span>(dt)
    <span class="comment">-- AI System handles the movement automatically based on Game Time</span>
    <span class="keyword">if</span> GetNPCHealth() < <span class="number">20</span> <span class="keyword">then</span>
        SetNPCState(<span class="string">"FLEEING"</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </div>

    <div class="code-example">
<pre><span class="comment">-- Example 2: Crime Witness logic</span>
<span class="keyword">local</span> reported = <span class="keyword">false</span>

<span class="keyword">function</span> <span class="function">OnUpdate</span>(dt)
    <span class="comment">-- Check for nearby player</span>
    <span class="keyword">local</span> playerID = FindNearestEntity(<span class="string">"Player"</span>, <span class="number">20.0</span>)
    
    <span class="keyword">if</span> playerID ~= <span class="keyword">nil</span> <span class="keyword">and</span> <span class="keyword">not</span> reported <span class="keyword">then</span>
        <span class="comment">-- Imagine we detect the player shooting (game logic variable)</span>
        <span class="keyword">local</span> playerIsShooting = IsKeyDown(<span class="string">"F"</span>) <span class="comment">-- Fake input check for example</span>
        
        <span class="keyword">if</span> playerIsShooting <span class="keyword">then</span>
            <span class="keyword">local</span> x, y, z = GetEntityPosition(playerID)
            
            <span class="comment">-- Report crime to the global Police System</span>
            ReportCrime(x, y, z, <span class="number">3.0</span>) <span class="comment">-- Severity 3 (Assault)</span>
            
            SetNPCState(<span class="string">"FLEEING"</span>)
            PlayAnim(<span class="string">"CallPolice"</span>)
            reported = <span class="keyword">true</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </div>

    <div class="code-example">
<pre><span class="comment">-- Example 3: Gang Member Behavior (Aggressive)</span>
<span class="keyword">function</span> <span class="function">OnStart</span>()
    SetNPCType(<span class="string">"GANG_MEMBER"</span>)
    SetNPCPersonality(<span class="number">0.9</span>, <span class="number">0.1</span>, <span class="number">0.9</span>) <span class="comment">-- High aggression, Low fear</span>
    
    <span class="comment">-- Add other gang members as friends so we don't attack them</span>
    <span class="keyword">local</span> buddy = FindEntity(<span class="string">"GangMember2"</span>)
    <span class="keyword">if</span> buddy ~= <span class="keyword">nil</span> <span class="keyword">then</span> MakeFriend(buddy) <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">function</span> <span class="function">OnUpdate</span>(dt)
    <span class="keyword">if</span> HasSeenPolice() <span class="keyword">then</span>
        <span class="comment">-- Gang members attack police on sight</span>
        <span class="keyword">local</span> cop = FindNearestEntity(<span class="string">"Police"</span>, <span class="number">30.0</span>)
        <span class="keyword">if</span> cop ~= <span class="keyword">nil</span> <span class="keyword">then</span>
            SetNPCTarget(cop)
            SetNPCState(<span class="string">"ATTACKING"</span>)
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        <span class="comment">-- Idle logic</span>
        SetNPCState(<span class="string">"IDLE"</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </div>
</div>

<div class="footer">
    ¬© 2025 Renderon Engine ‚Äî Documentation Version 2.1<br>
    Support: support@renderon.net | Discord: discord.gg/renderon
</div>

</body>
</html>
